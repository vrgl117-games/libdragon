<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdragon: tpak.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdragon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">tpak.c File Reference<div class="ingroups"><a class="el" href="group__libdragon.html">libdragon</a> &raquo; <a class="el" href="group__controller.html">Controller Subsystem</a> &raquo; <a class="el" href="group__transferpak.html">Transfer Pak interface</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Transfer Pak interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="libdragon_8h_source.html">libdragon.h</a>&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a32db920b763347ed10c8f161250962cd"><td class="memItemLeft" align="right" valign="top"><a id="a32db920b763347ed10c8f161250962cd" name="a32db920b763347ed10c8f161250962cd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TPAK_BLOCK_SIZE</b>&#160;&#160;&#160;0x20</td></tr>
<tr class="memdesc:a32db920b763347ed10c8f161250962cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer Pak command block size (32 bytes) <br /></td></tr>
<tr class="separator:a32db920b763347ed10c8f161250962cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f2d4664a5fd24d83959ccd801947b8"><td class="memItemLeft" align="right" valign="top"><a id="a48f2d4664a5fd24d83959ccd801947b8" name="a48f2d4664a5fd24d83959ccd801947b8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TPAK_BANK_SIZE</b>&#160;&#160;&#160;0x4000</td></tr>
<tr class="memdesc:a48f2d4664a5fd24d83959ccd801947b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer Pak cartridge bank size (16KB) <br /></td></tr>
<tr class="separator:a48f2d4664a5fd24d83959ccd801947b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Transfer Pak power control values</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p ><a class="anchor" id="TPAK_POWER"></a></p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="tpak_8c.html#a3462ab638f177b4f9c8d41939b06df94" title="Set the power enabled flag for a Transfer Pak.">tpak_set_power</a> </dd></dl>
</div></td></tr>
<tr class="memitem:a8c5ca9dc530de610b3544336f0a7226f"><td class="memItemLeft" align="right" valign="top"><a id="a8c5ca9dc530de610b3544336f0a7226f" name="a8c5ca9dc530de610b3544336f0a7226f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TPAK_POWER_ON</b>&#160;&#160;&#160;0x84</td></tr>
<tr class="memdesc:a8c5ca9dc530de610b3544336f0a7226f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer Pak power on. <br /></td></tr>
<tr class="separator:a8c5ca9dc530de610b3544336f0a7226f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62ad788345487decb64effb822c0e43"><td class="memItemLeft" align="right" valign="top"><a id="ab62ad788345487decb64effb822c0e43" name="ab62ad788345487decb64effb822c0e43"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TPAK_POWER_OFF</b>&#160;&#160;&#160;0xFE</td></tr>
<tr class="memdesc:ab62ad788345487decb64effb822c0e43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer Pak power off. <br /></td></tr>
<tr class="separator:ab62ad788345487decb64effb822c0e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Transfer Pak address values</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p ><a class="anchor" id="TPAK_ADDRESS"></a></p>
</div></td></tr>
<tr class="memitem:ae8c69750bc8d7c3d0ef139b40681fdb3"><td class="memItemLeft" align="right" valign="top"><a id="ae8c69750bc8d7c3d0ef139b40681fdb3" name="ae8c69750bc8d7c3d0ef139b40681fdb3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TPAK_ADDRESS_POWER</b>&#160;&#160;&#160;0x8000</td></tr>
<tr class="memdesc:ae8c69750bc8d7c3d0ef139b40681fdb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer Pak address for power control. <br /></td></tr>
<tr class="separator:ae8c69750bc8d7c3d0ef139b40681fdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af625ca0229f59a1d74b2a6b096164f96"><td class="memItemLeft" align="right" valign="top"><a id="af625ca0229f59a1d74b2a6b096164f96" name="af625ca0229f59a1d74b2a6b096164f96"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TPAK_ADDRESS_BANK</b>&#160;&#160;&#160;0xA000</td></tr>
<tr class="memdesc:af625ca0229f59a1d74b2a6b096164f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer Pak address for bank switching. <br /></td></tr>
<tr class="separator:af625ca0229f59a1d74b2a6b096164f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad605bf162cbc7e90c45b39e3bbb3574"><td class="memItemLeft" align="right" valign="top"><a id="aad605bf162cbc7e90c45b39e3bbb3574" name="aad605bf162cbc7e90c45b39e3bbb3574"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TPAK_ADDRESS_STATUS</b>&#160;&#160;&#160;0xB000</td></tr>
<tr class="memdesc:aad605bf162cbc7e90c45b39e3bbb3574"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer Pak address for status flags. <br /></td></tr>
<tr class="separator:aad605bf162cbc7e90c45b39e3bbb3574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18ae694312911fbba535535a57398f4e"><td class="memItemLeft" align="right" valign="top"><a id="a18ae694312911fbba535535a57398f4e" name="a18ae694312911fbba535535a57398f4e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TPAK_ADDRESS_DATA</b>&#160;&#160;&#160;0xC000</td></tr>
<tr class="memdesc:a18ae694312911fbba535535a57398f4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer Pak address for cartridge data. <br /></td></tr>
<tr class="separator:a18ae694312911fbba535535a57398f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9791ad189ddca33d64d1911afc96b1e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpak_8c.html#a9791ad189ddca33d64d1911afc96b1e0">tpak_set_value</a> (int controller, uint16_t address, uint8_t value)</td></tr>
<tr class="memdesc:a9791ad189ddca33d64d1911afc96b1e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Transfer Pak or Game Boy cartridge status/control value.  <a href="tpak_8c.html#a9791ad189ddca33d64d1911afc96b1e0">More...</a><br /></td></tr>
<tr class="separator:a9791ad189ddca33d64d1911afc96b1e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01be95d7571316576742cb8c90e44c8a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpak_8c.html#a01be95d7571316576742cb8c90e44c8a">tpak_init</a> (int controller)</td></tr>
<tr class="memdesc:a01be95d7571316576742cb8c90e44c8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a Transfer Pak for read/write commands.  <a href="tpak_8c.html#a01be95d7571316576742cb8c90e44c8a">More...</a><br /></td></tr>
<tr class="separator:a01be95d7571316576742cb8c90e44c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1867478e8966e18aa852f51af573a099"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpak_8c.html#a1867478e8966e18aa852f51af573a099">tpak_set_access</a> (int controller, bool access_state)</td></tr>
<tr class="memdesc:a1867478e8966e18aa852f51af573a099"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the access mode flag for a Transfer Pak.  <a href="tpak_8c.html#a1867478e8966e18aa852f51af573a099">More...</a><br /></td></tr>
<tr class="separator:a1867478e8966e18aa852f51af573a099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3462ab638f177b4f9c8d41939b06df94"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpak_8c.html#a3462ab638f177b4f9c8d41939b06df94">tpak_set_power</a> (int controller, bool power_state)</td></tr>
<tr class="memdesc:a3462ab638f177b4f9c8d41939b06df94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the power enabled flag for a Transfer Pak.  <a href="tpak_8c.html#a3462ab638f177b4f9c8d41939b06df94">More...</a><br /></td></tr>
<tr class="separator:a3462ab638f177b4f9c8d41939b06df94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d24b52bb770047091cacbc94960241"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpak_8c.html#ad3d24b52bb770047091cacbc94960241">tpak_set_bank</a> (int controller, int bank)</td></tr>
<tr class="memdesc:ad3d24b52bb770047091cacbc94960241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cartridge data address memory bank for a Transfer Pak.  <a href="tpak_8c.html#ad3d24b52bb770047091cacbc94960241">More...</a><br /></td></tr>
<tr class="separator:ad3d24b52bb770047091cacbc94960241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd9cdb4edd60438bf470cc07e2bba208"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpak_8c.html#afd9cdb4edd60438bf470cc07e2bba208">tpak_get_status</a> (int controller)</td></tr>
<tr class="memdesc:afd9cdb4edd60438bf470cc07e2bba208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the status flags for a Transfer Pak.  <a href="tpak_8c.html#afd9cdb4edd60438bf470cc07e2bba208">More...</a><br /></td></tr>
<tr class="separator:afd9cdb4edd60438bf470cc07e2bba208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac275be37f853abac5bc64548f3722607"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpak_8c.html#ac275be37f853abac5bc64548f3722607">tpak_get_cartridge_header</a> (int controller, struct <a class="el" href="tpak_8h.html#structgameboy__cartridge__header">gameboy_cartridge_header</a> *header)</td></tr>
<tr class="memdesc:ac275be37f853abac5bc64548f3722607"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the Game Boy cartridge ROM header from a Transfer Pak.  <a href="tpak_8c.html#ac275be37f853abac5bc64548f3722607">More...</a><br /></td></tr>
<tr class="separator:ac275be37f853abac5bc64548f3722607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae308ff35ec377df7108eebde198dfbe2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpak_8c.html#ae308ff35ec377df7108eebde198dfbe2">tpak_write</a> (int controller, uint16_t address, uint8_t *data, uint16_t size)</td></tr>
<tr class="memdesc:ae308ff35ec377df7108eebde198dfbe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data from a buffer to a Game Boy cartridge via Transfer Pak.  <a href="tpak_8c.html#ae308ff35ec377df7108eebde198dfbe2">More...</a><br /></td></tr>
<tr class="separator:ae308ff35ec377df7108eebde198dfbe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1f0e50ff7db26b5813049a1987c508"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpak_8c.html#a1e1f0e50ff7db26b5813049a1987c508">tpak_read</a> (int controller, uint16_t address, uint8_t *buffer, uint16_t size)</td></tr>
<tr class="memdesc:a1e1f0e50ff7db26b5813049a1987c508"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from a Game Boy cartridge to a buffer via Transfer Pak.  <a href="tpak_8c.html#a1e1f0e50ff7db26b5813049a1987c508">More...</a><br /></td></tr>
<tr class="separator:a1e1f0e50ff7db26b5813049a1987c508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d4815b2643fdb64a0d12f99beaa7d0a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpak_8c.html#a4d4815b2643fdb64a0d12f99beaa7d0a">tpak_check_header</a> (struct <a class="el" href="tpak_8h.html#structgameboy__cartridge__header">gameboy_cartridge_header</a> *header)</td></tr>
<tr class="memdesc:a4d4815b2643fdb64a0d12f99beaa7d0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify a Game Boy cartridge ROM header checksum.  <a href="tpak_8c.html#a4d4815b2643fdb64a0d12f99beaa7d0a">More...</a><br /></td></tr>
<tr class="separator:a4d4815b2643fdb64a0d12f99beaa7d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Transfer Pak interface. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4d4815b2643fdb64a0d12f99beaa7d0a" name="a4d4815b2643fdb64a0d12f99beaa7d0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d4815b2643fdb64a0d12f99beaa7d0a">&#9670;&nbsp;</a></span>tpak_check_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tpak_check_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="tpak_8h.html#structgameboy__cartridge__header">gameboy_cartridge_header</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify a Game Boy cartridge ROM header checksum. </p>
<p >Confirms that the Transfer Pak is connected and working properly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">header</td><td>The Game Boy ROM header to check. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac275be37f853abac5bc64548f3722607" name="ac275be37f853abac5bc64548f3722607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac275be37f853abac5bc64548f3722607">&#9670;&nbsp;</a></span>tpak_get_cartridge_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tpak_get_cartridge_header </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="tpak_8h.html#structgameboy__cartridge__header">gameboy_cartridge_header</a> *&#160;</td>
          <td class="paramname"><em>header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the Game Boy cartridge ROM header from a Transfer Pak. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller</td><td>The controller (0-3) with Transfer Pak connected. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">header</td><td>Pointer to destination Game Boy cartridge ROM header data structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or <a class="el" href="tpak_8h.html#TPAK_ERROR">TPAK_ERROR</a> otherwise. </dd></dl>

</div>
</div>
<a id="afd9cdb4edd60438bf470cc07e2bba208" name="afd9cdb4edd60438bf470cc07e2bba208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd9cdb4edd60438bf470cc07e2bba208">&#9670;&nbsp;</a></span>tpak_get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t tpak_get_status </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>controller</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the status flags for a Transfer Pak. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller</td><td>The controller (0-3) with Transfer Pak connected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status byte with <a class="el" href="tpak_8h.html#TPAK_STATUS">TPAK_STATUS</a> flags </dd></dl>

</div>
</div>
<a id="a01be95d7571316576742cb8c90e44c8a" name="a01be95d7571316576742cb8c90e44c8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01be95d7571316576742cb8c90e44c8a">&#9670;&nbsp;</a></span>tpak_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tpak_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>controller</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare a Transfer Pak for read/write commands. </p>
<p >Powers on the Transfer Pak and enables access to the Game Boy cartridge. Also performs status checks to confirm the Transfer Pak can be accessed reliably.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller</td><td>The controller (0-3) with Transfer Pak connected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or <a class="el" href="tpak_8h.html#TPAK_ERROR">TPAK_ERROR</a> otherwise. </dd></dl>

</div>
</div>
<a id="a1e1f0e50ff7db26b5813049a1987c508" name="a1e1f0e50ff7db26b5813049a1987c508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e1f0e50ff7db26b5813049a1987c508">&#9670;&nbsp;</a></span>tpak_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tpak_read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from a Game Boy cartridge to a buffer via Transfer Pak. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller</td><td>The controller (0-3) with Transfer Pak connected. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>address in Game Boy cartridge space to read from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>buffer to copy cartridge data into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>length of the data to be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or <a class="el" href="tpak_8h.html#TPAK_ERROR">TPAK_ERROR</a> otherwise. </dd></dl>

</div>
</div>
<a id="a1867478e8966e18aa852f51af573a099" name="a1867478e8966e18aa852f51af573a099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1867478e8966e18aa852f51af573a099">&#9670;&nbsp;</a></span>tpak_set_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tpak_set_access </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>access_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the access mode flag for a Transfer Pak. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller</td><td>The controller (0-3) with Transfer Pak connected. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">access_state</td><td>Whether to allow access to the Game Boy cartridge. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or <a class="el" href="tpak_8h.html#TPAK_ERROR">TPAK_ERROR</a> otherwise. </dd></dl>

</div>
</div>
<a id="ad3d24b52bb770047091cacbc94960241" name="ad3d24b52bb770047091cacbc94960241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d24b52bb770047091cacbc94960241">&#9670;&nbsp;</a></span>tpak_set_bank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tpak_set_bank </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cartridge data address memory bank for a Transfer Pak. </p>
<p >Change the bank of address space that is available for <a class="el" href="tpak_8c.html#a1e1f0e50ff7db26b5813049a1987c508" title="Read data from a Game Boy cartridge to a buffer via Transfer Pak.">tpak_read</a> and <a class="el" href="tpak_8c.html#ae308ff35ec377df7108eebde198dfbe2" title="Write data from a buffer to a Game Boy cartridge via Transfer Pak.">tpak_write</a> between Transfer Pak addresses 0xC000 and 0xFFFF.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller</td><td>The controller (0-3) with Transfer Pak connected. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bank</td><td>The bank (0-3) to switch to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or <a class="el" href="tpak_8h.html#TPAK_ERROR">TPAK_ERROR</a> otherwise. </dd></dl>

</div>
</div>
<a id="a3462ab638f177b4f9c8d41939b06df94" name="a3462ab638f177b4f9c8d41939b06df94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3462ab638f177b4f9c8d41939b06df94">&#9670;&nbsp;</a></span>tpak_set_power()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tpak_set_power </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>power_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the power enabled flag for a Transfer Pak. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller</td><td>The controller (0-3) with Transfer Pak connected. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">power_state</td><td>True to power the Transfer Pak and cartridge on, false to turn it off. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or <a class="el" href="tpak_8h.html#TPAK_ERROR">TPAK_ERROR</a> otherwise. </dd></dl>

</div>
</div>
<a id="a9791ad189ddca33d64d1911afc96b1e0" name="a9791ad189ddca33d64d1911afc96b1e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9791ad189ddca33d64d1911afc96b1e0">&#9670;&nbsp;</a></span>tpak_set_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tpak_set_value </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set Transfer Pak or Game Boy cartridge status/control value. </p>
<p >This is an internal helper to set a Transfer Pak status or control setting. This function is not suitable for setting individual bytes in Save RAM!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller</td><td>The controller (0-3) with Transfer Pak connected. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Address of the setting. Should be between 0x8000 and 0xBFE0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>A byte of data to fill the write buffer with. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae308ff35ec377df7108eebde198dfbe2" name="ae308ff35ec377df7108eebde198dfbe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae308ff35ec377df7108eebde198dfbe2">&#9670;&nbsp;</a></span>tpak_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tpak_write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data from a buffer to a Game Boy cartridge via Transfer Pak. </p>
<p >Save RAM is located between gameboy addresses 0xA000 and 0xBFFF, which is in the Transfer Pak's bank 2. This function does not account for cartridge bank switching, so to switch between MBC1 RAM banks, for example, you'll need to switch to Tpak bank 1, and write to address 0xE000, which translates to address 0x6000 on the gameboy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller</td><td>The controller (0-3) with Transfer Pak connected. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>address in Game Boy cartridge space to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>buffer containing the data to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>length of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or <a class="el" href="tpak_8h.html#TPAK_ERROR">TPAK_ERROR</a> otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 7 2022 08:55:10 for libdragon by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
