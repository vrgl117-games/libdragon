<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdragon: Libdragon</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdragon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Libdragon </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> <a href="https://github.com/DragonMinded/libdragon/actions/workflows/ci.yml"><img src="https://github.com/DragonMinded/libdragon/actions/workflows/ci.yml/badge.svg?branch=trunk" alt="Build" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Welcome to libdragon</h1>
<p >Libdragon is an open-source SDK for Nintendo 64. It aims for a complete N64 programming experience while providing programmers with modern approach to programming and debugging. These are the main features:</p>
<ul>
<li>Based on modern GCC (12.1) and Newlib, for a full C11 programming experience. A Docker container is available to quickly set up the programming environment.</li>
<li>The GCC toolchain is 64 bit capable to be able to use the full R4300 capabilities (commercial games and libultra are based on a 32-bit ABI and is not possible to use 64-bit registers and opcodes with it)</li>
<li>Can be developed with newer-generation emulators (cen64, Ares, Dillonb's n64, m64p) or development cartridges (64drive, EverDrive64).</li>
<li>Support both vanilla N64 and iQue Player (chinese variant). The support is experimental and done fully at runtime, so it is possible to run ROMs built with libdragon on iQue without modifying the source code.</li>
<li>In-ROM filesystem implementation for assets. Assets can be loaded with <code>fopen("rom://asset.dat")</code> without having to do complex things to link them in.</li>
<li>Efficient interrupt-based timer library (also features a monotone 64-bit timer to avoid dealing with 32-bit overflows)</li>
<li>Graphics: easy-to-use API for 2D games, accelerated with RDP</li>
<li>Support for standard N64 controllers and memory paks.</li>
<li>Support for saving to flashes and EEPROMs (including a mini EEPROM filesystem to simplify serialization of structures).</li>
<li>Audio: advanced RSP-accelerated library, supporting up to 32 channels and streaming samples from ROM during playback for very low memory usage. Supports WAV files for sound effects and the XM (FastTracker, MilkyTracker, OpenMPT), and YM (Arkos Tracker 2) module formats for background music. Can playback a 10-channel XM with &lt; 3% CPU and &lt; 10% RSP.</li>
<li>Debugging aids: console (printf goes to screen) exception screen, many asserts (so that you get a nice error screen instead of a console lockup), <code>fprintf(stderr)</code> calls are redirected to your PC console in emulators and to USB via compatible tools (UNFLoader, g64drive).</li>
<li>Support to read/write to SD cards in development kits (64drive, EverDrive64), simply with <code>fopen("sd://sdata.dat")</code></li>
<li>Simple and powerful Makefile-based build system for your ROMs and assets (n64.mk)</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Getting started: how to build a ROM</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
Option 1: Use the libdragon CLI with Docker (Windows, macOS, Linux)</h2>
<p >See <a href="https://github.com/anacierdem/libdragon-docker">the libdragon CLI</a> to quickly get libdragon up and running. Basically:</p>
<ol type="1">
<li>Make sure that you have Docker installed correctly (on Windows and Mac, use Docker Desktop). You can run <code>docker system info</code> to check that it is working correctly.</li>
<li>Install the <a href="https://github.com/anacierdem/libdragon-docker">the libdragon CLI</a>. You have two options:<ol type="a">
<li>Download the <a href="https://github.com/anacierdem/libdragon-docker/releases/tag/v10.8.0">pre-built binary</a>, and copy it into some directory which is part of your system PATH.</li>
<li>If you have <code>npm</code> installed (at least verstion 14), run <code>npm install -g libdragon</code>.</li>
</ol>
</li>
<li>Run <code>libdragon init</code> to create a skeleton project</li>
<li>Run <code>libdragon make</code> to compile a build a ROM</li>
</ol>
<p >If you want, you can also compile and run one of the examples that will be found in <code>libdragon/examples</code> in the skeleton project.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Option 2: Compile the toolchain (Linux only)</h2>
<ol type="1">
<li>Export the environment variable N64_INST to the path where you want your toolchain to be installed. For instance: <code>export N64_INST=/opt/n64</code> or <code>export N64_INST=/usr/local</code>.</li>
<li>Create an empty directory and copy the <code>tools/build-toolchain.sh</code> script there</li>
<li>Read the comments in the build script to see what additional packages are needed.</li>
<li>Run <code>./build-toolchain.sh</code> from the created directory, let it build and install the toolchain.</li>
<li>Install libpng-dev if not already installed.</li>
<li>Make sure that you still have the <code>N64_INST</code> variable pointing to the correct directory where the toolchain was installed (<code>echo $N64_INST</code>).</li>
</ol>
<ol type="1">
<li>Run <code>./build.sh</code> at the top-level. This will install libdragon, its tools, and also build all examples.</li>
</ol>
<p >You are now ready to run the examples on your N64 or emulator.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Getting started: how to run a ROM</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
Using emulators</h2>
<p >libdragon requires a modern N64 emulator (the first generation of emulators are basically HLE-only and can only play the old commercial games). Suggested emulators for homebrew developemnt are: <a href="https://ares-emulator.github.io">Ares</a>, <a href="https://github.com/n64dev/cen64">cen64</a>, <a href="https://github.com/Dillonb/n64">dgb-n64</a>, <a href="https://m64p.github.io">m64p</a>.</p>
<p >On all the above emulators, you are also able to see in console anything printed via <code>fprintf(stderr)</code>, see the debug library for more information.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Using a development cartridge on a real N64</h2>
<p >All cartridges that are able to load custom ROMs should be able to successfully load libdragon ROMs via either USB/serial, or from a MMC/SD card. For instance, the followig are known to work: 64drive, EverDrive64 (all models), SummerCart 64.</p>
<p >If your cartridge has USB support, use one of the loaders that implement the libdragon debugging protocol, so to be able to show logs in console. For instance, <a href="https://github.com/buu342/N64-UNFLoader">UNFLoader</a>, <a href="https://github.com/rasky/g64drive">g64drive</a>, <a href="https://github.com/anacierdem/ed64">ed64</a>. The official loaders provided by the vendors are usually less feature-rich.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Documentation</h1>
<ul>
<li><a href="https://dragonminded.github.io/libdragon/ref/modules.html">API reference</a></li>
<li><a href="https://github.com/DragonMinded/libdragon/tree/trunk/examples">Examples</a> </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 7 2022 08:55:11 for libdragon by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
