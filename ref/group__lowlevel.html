<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdragon: Low Level Hardware Interfaces</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdragon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Low Level Hardware Interfaces<div class="ingroups"><a class="el" href="group__libdragon.html">libdragon</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Low level hardware interface descriptions and functionality.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__dma"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dma.html">DMA Controller</a></td></tr>
<tr class="memdesc:group__dma"><td class="mdescLeft">&#160;</td><td class="mdescRight">DMA functionality for transfers between cartridge space and RDRAM. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__exceptions"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__exceptions.html">Exception Handler</a></td></tr>
<tr class="memdesc:group__exceptions"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle hardware-generated exceptions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__interrupt"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt.html">Interrupt Controller</a></td></tr>
<tr class="memdesc:group__interrupt"><td class="mdescLeft">&#160;</td><td class="mdescRight">N64 interrupt registering and servicing routines. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__joybus"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__joybus.html">Joybus Subsystem</a></td></tr>
<tr class="memdesc:group__joybus"><td class="mdescLeft">&#160;</td><td class="mdescRight">Joybus peripheral interface. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__n64sys"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__n64sys.html">N64 System Interface</a></td></tr>
<tr class="memdesc:group__n64sys"><td class="mdescLeft">&#160;</td><td class="mdescRight">N64 bootup and cache interfaces. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__rsp"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rsp.html">RSP interface</a></td></tr>
<tr class="memdesc:group__rsp"><td class="mdescLeft">&#160;</td><td class="mdescRight">RSP basic library and command queue. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:joybus_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="joybus_8c.html">joybus.c</a></td></tr>
<tr class="memdesc:joybus_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Joybus Subsystem. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:joybus_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="joybus_8h.html">joybus.h</a></td></tr>
<tr class="memdesc:joybus_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Joybus Subsystem. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:regsinternal_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regsinternal_8h.html">regsinternal.h</a></td></tr>
<tr class="memdesc:regsinternal_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register definitions for various hardware in the N64. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structAI__regs__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevel.html#structAI__regs__t">AI_regs_t</a></td></tr>
<tr class="memdesc:structAI__regs__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register definition for the AI interface.  <a href="group__lowlevel.html#structAI__regs__t">More...</a><br /></td></tr>
<tr class="separator:structAI__regs__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structMI__regs__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevel.html#structMI__regs__t">MI_regs_t</a></td></tr>
<tr class="memdesc:structMI__regs__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register definition for the MI interface.  <a href="group__lowlevel.html#structMI__regs__t">More...</a><br /></td></tr>
<tr class="separator:structMI__regs__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structVI__regs__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevel.html#structVI__regs__t">VI_regs_t</a></td></tr>
<tr class="memdesc:structVI__regs__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register definition for the VI interface.  <a href="group__lowlevel.html#structVI__regs__t">More...</a><br /></td></tr>
<tr class="separator:structVI__regs__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structPI__regs__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevel.html#structPI__regs__t">PI_regs_t</a></td></tr>
<tr class="memdesc:structPI__regs__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register definition for the PI interface.  <a href="group__lowlevel.html#structPI__regs__t">More...</a><br /></td></tr>
<tr class="separator:structPI__regs__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structSI__regs__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevel.html#structSI__regs__t">SI_regs_t</a></td></tr>
<tr class="memdesc:structSI__regs__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register definition for the SI interface.  <a href="group__lowlevel.html#structSI__regs__t">More...</a><br /></td></tr>
<tr class="separator:structSI__regs__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structSP__regs__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevel.html#structSP__regs__t">SP_regs_t</a></td></tr>
<tr class="memdesc:structSP__regs__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register definition for the SP interface.  <a href="group__lowlevel.html#structSP__regs__t">More...</a><br /></td></tr>
<tr class="separator:structSP__regs__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga96357e747d908aa6c354b507d9b0fdc4"><td class="memItemLeft" align="right" valign="top"><a id="ga96357e747d908aa6c354b507d9b0fdc4" name="ga96357e747d908aa6c354b507d9b0fdc4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>JOYBUS_BLOCK_SIZE</b>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:ga96357e747d908aa6c354b507d9b0fdc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of a Joybus input/output block in bytes. <br /></td></tr>
<tr class="separator:ga96357e747d908aa6c354b507d9b0fdc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd5f84cf2323e720ab0b79fff05e8383"><td class="memItemLeft" align="right" valign="top"><a id="gabd5f84cf2323e720ab0b79fff05e8383" name="gabd5f84cf2323e720ab0b79fff05e8383"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>JOYBUS_BLOCK_DWORDS</b>&#160;&#160;&#160;( <a class="el" href="group__lowlevel.html#ga96357e747d908aa6c354b507d9b0fdc4">JOYBUS_BLOCK_SIZE</a> / sizeof(uint64_t) )</td></tr>
<tr class="memdesc:gabd5f84cf2323e720ab0b79fff05e8383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of a Joybus input/output block in double-words. <br /></td></tr>
<tr class="separator:gabd5f84cf2323e720ab0b79fff05e8383"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga89cef5dd261a8436fce3d5eb6aeacda0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevel.html#ga89cef5dd261a8436fce3d5eb6aeacda0">joybus_exec</a> (const void *inblock, void *outblock)</td></tr>
<tr class="memdesc:ga89cef5dd261a8436fce3d5eb6aeacda0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a 64-byte block of data to the PIF and read the 64-byte result.  <a href="group__lowlevel.html#ga89cef5dd261a8436fce3d5eb6aeacda0">More...</a><br /></td></tr>
<tr class="separator:ga89cef5dd261a8436fce3d5eb6aeacda0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Low level hardware interface descriptions and functionality. </p>
<p >The low level hardware interfaces handle several functions in the N64 that would otherwise be handled by a kernel or RTOS. This includes the <a class="el" href="group__dma.html">DMA Controller</a>, the <a class="el" href="group__exceptions.html">Exception Handler</a>, the <a class="el" href="group__interrupt.html">Interrupt Controller</a> and the <a class="el" href="group__n64sys.html">N64 System Interface</a>. The DMA controller handles DMA requests between the cartridge and the N64 RDRAM. Other systems in the N64 have their own DMA controllers that are handled in the relevant subsystems. The exception handler traps any exceptions raised by the N64, including the reset exception. The interrupt handler sets up the MIPS interface (MI) which handles low level interrupt functionality for all other systems in the N64. The N64 system interface provides the ability for code to manipulate cache and boot options. </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structAI__regs__t" id="structAI__regs__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structAI__regs__t">&#9670;&nbsp;</a></span>AI_regs_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct AI_regs_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Register definition for the AI interface. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a3aea9c8992d775f599ea5520cdfbb460" name="a3aea9c8992d775f599ea5520cdfbb460"></a>volatile void *</td>
<td class="fieldname">
address</td>
<td class="fielddoc">
Pointer to uncached memory buffer of samples to play. </td></tr>
<tr><td class="fieldtype">
<a id="a21bec29dfa1330f955418c313c89a933" name="a21bec29dfa1330f955418c313c89a933"></a>uint32_t</td>
<td class="fieldname">
control</td>
<td class="fielddoc">
DMA start register. Write a 1 to this register to start playing back an audio sample. </td></tr>
<tr><td class="fieldtype">
<a id="a40ae398ad46a66a11eaf6d67bb1d0c32" name="a40ae398ad46a66a11eaf6d67bb1d0c32"></a>uint32_t</td>
<td class="fieldname">
dacrate</td>
<td class="fielddoc">
Rate at which the buffer should be played. <p >Use the following formula to calculate the value: ((2 * clockrate / frequency) + 1) / 2 - 1 </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a835d9ee811ce8d37be9403d2e6abe4bc" name="a835d9ee811ce8d37be9403d2e6abe4bc"></a>uint32_t</td>
<td class="fieldname">
length</td>
<td class="fielddoc">
Size in bytes of the buffer to be played. Should be number of stereo samples * 2 * sizeof( uint16_t ) </td></tr>
<tr><td class="fieldtype">
<a id="a91961c052de8eb2f0dea0adcdb98ad52" name="a91961c052de8eb2f0dea0adcdb98ad52"></a>uint32_t</td>
<td class="fieldname">
samplesize</td>
<td class="fielddoc">
The size of a single sample in bits. </td></tr>
<tr><td class="fieldtype">
<a id="a533c35e0558e4e90bc55ee0cdb4c3e0c" name="a533c35e0558e4e90bc55ee0cdb4c3e0c"></a>uint32_t</td>
<td class="fieldname">
status</td>
<td class="fielddoc">
AI status register. Bit 31 is the full bit, bit 30 is the busy bit. </td></tr>
</table>

</div>
</div>
<a name="structMI__regs__t" id="structMI__regs__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structMI__regs__t">&#9670;&nbsp;</a></span>MI_regs_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct MI_regs_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Register definition for the MI interface. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a5a5097a9eb34a41cbccc0ca68b3939d1" name="a5a5097a9eb34a41cbccc0ca68b3939d1"></a>uint32_t</td>
<td class="fieldname">
intr</td>
<td class="fielddoc">
Current interrupts on the system. </td></tr>
<tr><td class="fieldtype">
<a id="a61776cbd65b132a153fb7477ba154541" name="a61776cbd65b132a153fb7477ba154541"></a>uint32_t</td>
<td class="fieldname">
mask</td>
<td class="fielddoc">
Interrupt mask. </td></tr>
<tr><td class="fieldtype">
<a id="afe25e13062df11da13dd302086caee34" name="afe25e13062df11da13dd302086caee34"></a>uint32_t</td>
<td class="fieldname">
mode</td>
<td class="fielddoc">
Mode register. </td></tr>
<tr><td class="fieldtype">
<a id="afd8c6c5c941763964cdb3db04d731923" name="afd8c6c5c941763964cdb3db04d731923"></a>uint32_t</td>
<td class="fieldname">
version</td>
<td class="fielddoc">
Version register. </td></tr>
</table>

</div>
</div>
<a name="structVI__regs__t" id="structVI__regs__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structVI__regs__t">&#9670;&nbsp;</a></span>VI_regs_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct VI_regs_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Register definition for the VI interface. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a06ddb1b71e611aa3567122188a4d9d8a" name="a06ddb1b71e611aa3567122188a4d9d8a"></a>uint32_t</td>
<td class="fieldname">
color_burst</td>
<td class="fielddoc">
Beginning and end of color burst in vertical lines. </td></tr>
<tr><td class="fieldtype">
<a id="aa284c94e35fe508abcf4e7ecbd9051d5" name="aa284c94e35fe508abcf4e7ecbd9051d5"></a>uint32_t</td>
<td class="fieldname">
control</td>
<td class="fielddoc">
VI control register. Sets up various rasterization modes. </td></tr>
<tr><td class="fieldtype">
<a id="a02c4b685a50831fe0ab4d60d8c89651a" name="a02c4b685a50831fe0ab4d60d8c89651a"></a>uint32_t</td>
<td class="fieldname">
cur_line</td>
<td class="fielddoc">
Current vertical line counter. </td></tr>
<tr><td class="fieldtype">
<a id="a66da76122e1adc2a3c3994ec410b2c8e" name="a66da76122e1adc2a3c3994ec410b2c8e"></a>void *</td>
<td class="fieldname">
framebuffer</td>
<td class="fielddoc">
Pointer to uncached buffer in memory to rasterize. </td></tr>
<tr><td class="fieldtype">
<a id="a063ea186f02eb0e0511746196a222686" name="a063ea186f02eb0e0511746196a222686"></a>uint32_t</td>
<td class="fieldname">
h_limits</td>
<td class="fielddoc">
Beginning and end of video horizontally. </td></tr>
<tr><td class="fieldtype">
<a id="ab9b175409c4823009013cd7b8d41ee5f" name="ab9b175409c4823009013cd7b8d41ee5f"></a>uint32_t</td>
<td class="fieldname">
h_scale</td>
<td class="fielddoc">
Horizontal scaling factor from buffer to screen. </td></tr>
<tr><td class="fieldtype">
<a id="afffc01aa413078047c03b9467f8ff21a" name="afffc01aa413078047c03b9467f8ff21a"></a>uint32_t</td>
<td class="fieldname">
h_sync</td>
<td class="fielddoc">
Number of pixels in line and leap pattern. </td></tr>
<tr><td class="fieldtype">
<a id="a1b17042ba50807a24c853acf15ace676" name="a1b17042ba50807a24c853acf15ace676"></a>uint32_t</td>
<td class="fieldname">
h_sync2</td>
<td class="fielddoc">
Number of pixels in line, set identically to h_sync. </td></tr>
<tr><td class="fieldtype">
<a id="af51d5fb42da0013f442cfcaaeeec20ce" name="af51d5fb42da0013f442cfcaaeeec20ce"></a>uint32_t</td>
<td class="fieldname">
timing</td>
<td class="fielddoc">
Timing generation register for PAL/NTSC signals. </td></tr>
<tr><td class="fieldtype">
<a id="a78d31d9148d84ffe2e31b4c8314eb59e" name="a78d31d9148d84ffe2e31b4c8314eb59e"></a>uint32_t</td>
<td class="fieldname">
v_int</td>
<td class="fielddoc">
Vertical interrupt control register. Controls which horizontal line must be hit to generate a VI interrupt. </td></tr>
<tr><td class="fieldtype">
<a id="a0a7255f9219ef588808846d57882b5fa" name="a0a7255f9219ef588808846d57882b5fa"></a>uint32_t</td>
<td class="fieldname">
v_limits</td>
<td class="fielddoc">
Beginning and end of video vertically. </td></tr>
<tr><td class="fieldtype">
<a id="a7154f52a793a1229191cb8171c520d9e" name="a7154f52a793a1229191cb8171c520d9e"></a>uint32_t</td>
<td class="fieldname">
v_scale</td>
<td class="fielddoc">
Vertical scaling factor from buffer to screen. </td></tr>
<tr><td class="fieldtype">
<a id="a41a71cafa3141b8eda5f011c971f817e" name="a41a71cafa3141b8eda5f011c971f817e"></a>uint32_t</td>
<td class="fieldname">
v_sync</td>
<td class="fielddoc">
Number of lines per frame. </td></tr>
<tr><td class="fieldtype">
<a id="a7cbd8d998467d09f233c554a61aea742" name="a7cbd8d998467d09f233c554a61aea742"></a>uint32_t</td>
<td class="fieldname">
width</td>
<td class="fielddoc">
Width of the buffer in pixels. </td></tr>
</table>

</div>
</div>
<a name="structPI__regs__t" id="structPI__regs__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structPI__regs__t">&#9670;&nbsp;</a></span>PI_regs_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct PI_regs_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Register definition for the PI interface. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a0879372fbf44dfa7a81c304909a1b910" name="a0879372fbf44dfa7a81c304909a1b910"></a>uint32_t</td>
<td class="fieldname">
dom1_latency</td>
<td class="fielddoc">
Cartridge domain 1 latency in RCP clock cycles. Requires DMA status bit guards to work reliably. </td></tr>
<tr><td class="fieldtype">
<a id="a31dcc75804223b3af9d5303a52abd7f1" name="a31dcc75804223b3af9d5303a52abd7f1"></a>uint32_t</td>
<td class="fieldname">
dom1_pulse_width</td>
<td class="fielddoc">
Cartridge domain 1 pulse width in RCP clock cycles. Requires DMA status bit guards to work reliably. </td></tr>
<tr><td class="fieldtype">
<a id="a34923351695e0730692d02b6be4914e3" name="a34923351695e0730692d02b6be4914e3"></a>uint32_t</td>
<td class="fieldname">
pi_address</td>
<td class="fielddoc">
Address of data on peripheral. </td></tr>
<tr><td class="fieldtype">
<a id="a9c462b86aed69b69730e770a6ad69107" name="a9c462b86aed69b69730e770a6ad69107"></a>volatile void *</td>
<td class="fieldname">
ram_address</td>
<td class="fielddoc">
Uncached address in RAM where data should be found. </td></tr>
<tr><td class="fieldtype">
<a id="af527dfb73fb557caa7fe0f346e336725" name="af527dfb73fb557caa7fe0f346e336725"></a>uint32_t</td>
<td class="fieldname">
read_length</td>
<td class="fielddoc">
How much data to read from RAM into the peripheral. </td></tr>
<tr><td class="fieldtype">
<a id="a2d68fa59b86dc1c64c5a4975b4f8e207" name="a2d68fa59b86dc1c64c5a4975b4f8e207"></a>uint32_t</td>
<td class="fieldname">
status</td>
<td class="fielddoc">
Status of the PI, including DMA busy. </td></tr>
<tr><td class="fieldtype">
<a id="a49dc82d881cae5f21cd7d7f2c0d68466" name="a49dc82d881cae5f21cd7d7f2c0d68466"></a>uint32_t</td>
<td class="fieldname">
write_length</td>
<td class="fielddoc">
How much data to write to RAM from the peripheral. </td></tr>
</table>

</div>
</div>
<a name="structSI__regs__t" id="structSI__regs__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structSI__regs__t">&#9670;&nbsp;</a></span>SI_regs_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct SI_regs_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Register definition for the SI interface. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ab2e4d926b99faddaa5a7716f74ce5185" name="ab2e4d926b99faddaa5a7716f74ce5185"></a>volatile void *</td>
<td class="fieldname">
DRAM_addr</td>
<td class="fielddoc">
Uncached address in RAM where data should be found. </td></tr>
<tr><td class="fieldtype">
<a id="acb5d2f4d312b6a57b2ae3c1cf66fc499" name="acb5d2f4d312b6a57b2ae3c1cf66fc499"></a>volatile void *</td>
<td class="fieldname">
PIF_addr_read</td>
<td class="fielddoc">
Address to read when copying from PIF RAM. </td></tr>
<tr><td class="fieldtype">
<a id="a94f5f7575a4cf6079e4acc99dabbef06" name="a94f5f7575a4cf6079e4acc99dabbef06"></a>volatile void *</td>
<td class="fieldname">
PIF_addr_write</td>
<td class="fielddoc">
Address to write when copying to PIF RAM. </td></tr>
<tr><td class="fieldtype">
<a id="adbbb0187862b88bf46020bde7f931c58" name="adbbb0187862b88bf46020bde7f931c58"></a>uint32_t</td>
<td class="fieldname">
reserved1</td>
<td class="fielddoc">
Reserved word. </td></tr>
<tr><td class="fieldtype">
<a id="ad3dd35b5074c6423ee1e01f6164af5b6" name="ad3dd35b5074c6423ee1e01f6164af5b6"></a>uint32_t</td>
<td class="fieldname">
reserved2</td>
<td class="fielddoc">
Reserved word. </td></tr>
<tr><td class="fieldtype">
<a id="a15099f20b49e5df6af48b8d3eba437c1" name="a15099f20b49e5df6af48b8d3eba437c1"></a>uint32_t</td>
<td class="fieldname">
reserved3</td>
<td class="fielddoc">
Reserved word. </td></tr>
<tr><td class="fieldtype">
<a id="a1c4245257b66dd414aa1653247091dcc" name="a1c4245257b66dd414aa1653247091dcc"></a>uint32_t</td>
<td class="fieldname">
status</td>
<td class="fielddoc">
SI status, including DMA busy and IO busy. </td></tr>
</table>

</div>
</div>
<a name="structSP__regs__t" id="structSP__regs__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structSP__regs__t">&#9670;&nbsp;</a></span>SP_regs_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct SP_regs_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Register definition for the SP interface. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a1785954c779d289d08208e30b44d0482" name="a1785954c779d289d08208e30b44d0482"></a>volatile void *</td>
<td class="fieldname">
DRAM_addr</td>
<td class="fielddoc">
RDRAM memory address. </td></tr>
<tr><td class="fieldtype">
<a id="a3d08d222ced301db8ce00c2bb555726d" name="a3d08d222ced301db8ce00c2bb555726d"></a>volatile void *</td>
<td class="fieldname">
RSP_addr</td>
<td class="fielddoc">
RSP memory address (IMEM/DMEM) </td></tr>
<tr><td class="fieldtype">
<a id="acc2be55c7111a79182565fbf63489865" name="acc2be55c7111a79182565fbf63489865"></a>uint32_t</td>
<td class="fieldname">
rsp_dma_busy</td>
<td class="fielddoc">
RSP DMA busy. </td></tr>
<tr><td class="fieldtype">
<a id="a16a6edf3d79f9ddde5674f6e9389c17c" name="a16a6edf3d79f9ddde5674f6e9389c17c"></a>uint32_t</td>
<td class="fieldname">
rsp_dma_full</td>
<td class="fielddoc">
RSP DMA full. </td></tr>
<tr><td class="fieldtype">
<a id="a99681ab88da1a35c4764d229224c276a" name="a99681ab88da1a35c4764d229224c276a"></a>uint32_t</td>
<td class="fieldname">
rsp_read_length</td>
<td class="fielddoc">
RDRAM-&gt;RSP DMA length. </td></tr>
<tr><td class="fieldtype">
<a id="a5879be9e474337266c6855279c65b69b" name="a5879be9e474337266c6855279c65b69b"></a>uint32_t</td>
<td class="fieldname">
rsp_semaphore</td>
<td class="fielddoc">
RSP Semaphore. </td></tr>
<tr><td class="fieldtype">
<a id="a26d7ebd4637d8630ea72b335220b1c5e" name="a26d7ebd4637d8630ea72b335220b1c5e"></a>uint32_t</td>
<td class="fieldname">
rsp_write_length</td>
<td class="fielddoc">
RDP-&gt;RDRAM DMA length. </td></tr>
<tr><td class="fieldtype">
<a id="a51fb178bd42b9dfbbd2376eca10238a8" name="a51fb178bd42b9dfbbd2376eca10238a8"></a>uint32_t</td>
<td class="fieldname">
status</td>
<td class="fielddoc">
RSP status. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga89cef5dd261a8436fce3d5eb6aeacda0" name="ga89cef5dd261a8436fce3d5eb6aeacda0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89cef5dd261a8436fce3d5eb6aeacda0">&#9670;&nbsp;</a></span>joybus_exec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void joybus_exec </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a 64-byte block of data to the PIF and read the 64-byte result. </p>
<p >This function is not a stable feature of the libdragon API and should be considered experimental!</p>
<p >The usage of this function will likely change as a result of the ongoing effort to integrate the multitasking kernel with asynchronous operations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>Source buffer for the input block to send to the PIF</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Destination buffer to place the output block from the PIF </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 7 2022 08:55:11 for libdragon by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
